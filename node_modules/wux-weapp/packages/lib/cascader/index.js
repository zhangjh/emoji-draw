"use strict";var _baseComponent=_interopRequireDefault(require("../helpers/baseComponent")),_classNames3=_interopRequireDefault(require("../helpers/classNames"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function ownKeys(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)}return a}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(a,!0).forEach(function(e){_defineProperty(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ownKeys(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var defaultFieldNames={label:"label",value:"value",children:"children",disabled:"disabled"};(0,_baseComponent.default)({externalClasses:["wux-scroll-view-class"],properties:{prefixCls:{type:String,value:"wux-cascader"},defaultValue:{type:Array,value:[]},value:{type:Array,value:[],observer:function(e){this.data.controlled&&(this.setActiveValue(e),this.setInnerValue(e))}},controlled:{type:Boolean,value:!1},title:{type:String,value:""},cancelText:{type:String,value:"取消"},confirmText:{type:String,value:"确定"},options:{type:Array,value:[]},full:{type:Boolean,value:!1},height:{type:[String,Number],value:"auto"},chooseTitle:{type:String,value:"请选择"},visible:{type:Boolean,value:!1,observer:function(e){e&&this.setShouldRender(!0)}},defaultFieldNames:{type:Object,value:defaultFieldNames},skipAnimation:{type:Boolean,value:!1}},data:{shouldRender:!1,innerValue:[],activeValue:[]},computed:{classes:["prefixCls",function(e){return{wrap:(0,_classNames3.default)(e),hd:"".concat(e,"__hd"),bd:"".concat(e,"__bd"),toolbar:"".concat(e,"__toolbar"),inner:"".concat(e,"__inner"),cancel:(0,_classNames3.default)("".concat(e,"__button"),_defineProperty({},"".concat(e,"__button--cancel"),!0)),confirm:(0,_classNames3.default)("".concat(e,"__button"),_defineProperty({},"".concat(e,"__button--confirm"),!0)),hover:"".concat(e,"__button--hover"),title:"".concat(e,"__title")}}]},methods:{setShouldRender:function(e){this.data.shouldRender!==e&&this.setData({shouldRender:e})},setActiveValue:function(e,t){this.data.activeValue===e&&!t||this.setData({activeValue:e})},setInnerValue:function(e){this.data.innerValue!==e&&this.setData({innerValue:e})},getValue:function(e){var t=0<arguments.length&&void 0!==e?e:this.data.activeValue;return this.cascaderView=this.cascaderView||this.selectComponent("#wux-cascader-view"),this.cascaderView&&this.cascaderView.getValue(t)},onTabsChange:function(e){this.triggerEvent("tabsChange",e.detail)},onLoadOptions:function(e){this.triggerEvent("load",e.detail)},onChange:function(e){var t=this.data.visible,a=e.detail,n=a.value;this.setInnerValue(n),t&&this.triggerEvent("change",a)},close:function(){this.triggerEvent("close")},onClosed:function(){var e=this.data.activeValue;this.setInnerValue(e),this.setShouldRender(!1)},onConfirm:function(){var e=this.data.innerValue;this.data.controlled||this.setActiveValue(e,!0),this.triggerEvent("confirm",_objectSpread({},this.getValue(e))),this.close()},onCancel:function(){this.triggerEvent("cancel",_objectSpread({},this.getValue())),this.close()},noop:function(){}},attached:function(){var e=this.data,t=e.defaultValue,a=e.value,n=e.controlled,r=e.visible,i=n?a:t;this.setActiveValue(i),this.setInnerValue(i),this.setShouldRender(r)}});